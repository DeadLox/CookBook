#{extends 'CRUD/layout.html' /}
#{set title:messages.get('crud.list.title', type.name) /}

<div id="crudList" class="${type.name}">

    <div id="crudListTable">
        #{crud.table fields:['email', 'dateCreation', 'role', 'recettes', 'dateLastLogin']}
            #{crud.custom 'dateCreation'}
                #{if object.dateCreation}
                    Le ${object.dateCreation.format('dd/MM/yyyy à HH:mm')}
                #{/if}
            #{/crud.custom}
            #{crud.custom 'recettes'}
                <span class="label label-info">${object.recettes.size()}</span>
            #{/crud.custom}
            #{crud.custom 'dateLastLogin'}
                #{if object.dateLastLogin}
                    Le ${object.dateLastLogin.format('dd/MM/yyyy à HH:mm')}
                #{/if}
            #{/crud.custom}
        #{/crud.table}
    </div>

    <div id="crudListPagination">
        #{crud.pagination /}
    </div>

    <a class="btn btn-primary" href="@{blank()}">&{'crud.add', type.modelName}</a>
    <a class="btn btn-default" href="@{Administration.index()}">&{'retour'}</a>

</div>
